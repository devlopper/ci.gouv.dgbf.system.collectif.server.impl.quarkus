DROP ALIAS IF EXISTS AP_ACTUALIZE_MV;
CREATE ALIAS AP_ACTUALIZE_MV FOR "ci.gouv.dgbf.system.collectif.server.impl.RegulatoryActTest.PA_ACTUALISER_VM";

INSERT INTO VMA_EXERCICE(IDENTIFIANT,CODE,LIBELLE,ANNEE) VALUES ('2021','2021','Exercice budgétaire 2021',2021);
INSERT INTO TA_COLLECTIF(IDENTIFIANT,CODE,LIBELLE,EXERCICE,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE,EN_COURS,NUMERO,DATE_) VALUES ('2021_1','2021_1','2021_1','2021','1','christian','CREATION', DATE '2000-1-1','CREATION',1,1, DATE '2021-5-1');
INSERT INTO TA_VERSION_COLLECTIF(IDENTIFIANT,CODE,LIBELLE,COLLECTIF,NUMERO,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE,AJUSTABLE) VALUES ('2021_1_1','2021_1_1','2021_1_1','2021_1',1,'1','christian','CREATION', DATE '2000-1-1','CREATION',1);
INSERT INTO TA_VERSION_COLLECTIF(IDENTIFIANT,CODE,LIBELLE,COLLECTIF,NUMERO,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE,AJUSTABLE) VALUES ('2021_1_2','2021_1_2','2021_1_2','2021_1',2,'1','christian','CREATION', DATE '2000-1-1','CREATION',1);
INSERT INTO TA_VERSION_COLLECTIF(IDENTIFIANT,CODE,LIBELLE,COLLECTIF,NUMERO,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE,AJUSTABLE) VALUES ('2021_1_3','2021_1_3','2021_1_3','2021_1',3,'1','christian','CREATION', DATE '2000-1-1','CREATION',1);

INSERT INTO TA_COLLECTIF(IDENTIFIANT,CODE,LIBELLE,EXERCICE,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE,EN_COURS,NUMERO,DATE_) VALUES ('2021_2','2021_2','2021_2','2021','1','christian','CREATION', DATE '2000-1-1','CREATION',1,2, DATE '2021-7-30');
INSERT INTO TA_VERSION_COLLECTIF(IDENTIFIANT,CODE,LIBELLE,COLLECTIF,NUMERO,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE,AJUSTABLE) VALUES ('2021_2_1','2021_2_1','2021_2_1','2021_2',1,'1','christian','CREATION', DATE '2000-1-1','CREATION',1);

INSERT INTO TA_COLLECTIF(IDENTIFIANT,CODE,LIBELLE,EXERCICE,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE,EN_COURS,NUMERO,DATE_) VALUES ('2021_3','2021_3','2021_3','2021','1','christian','CREATION', DATE '2000-1-1','CREATION',1,3, DATE '2021-9-30');
INSERT INTO TA_VERSION_COLLECTIF(IDENTIFIANT,CODE,LIBELLE,COLLECTIF,NUMERO,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE,AJUSTABLE) VALUES ('2021_3_1','2021_3_1','2021_3_1','2021_3',1,'1','christian','CREATION', DATE '2000-1-1','CREATION',1);

INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('1','1','1',2021,0,0, DATE '2020-1-1');
INSERT INTO VMA_ACTE_GESTION_DEPENSE(IDENTIFIANT,ACTE,ACTIVITE,NATURE_ECONOMIQUE,SOURCE_FINANCEMENT,BAILLEUR,MONTANT_AE,MONTANT_CP) VALUES ('2021_1_1_1','1','1','1','1','1',0,0);

INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('2','2','1',2021,1,0, DATE '2000-1-1');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('3','3','1',2021,0,1, DATE '2000-1-1');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('4','4','1',2021,2,2, DATE '2000-1-1');

-- Marquage

INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('1','1','2021_1_1',0,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');
INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('2','2','2021_1_1',1,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');
INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('3','3','2021_1_1',0,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');

--		Inclusion

-- Acte de gestion intégré marqué à vrai
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_included_true','include_included_true','include_included_true',2021,0,0, DATE '2000-1-1');
INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('i1','include_included_true','2021_1_1',1,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');

-- Acte de gestion non intégré marqué à faux
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_included_false','include_included_false','include_included_false',2021,0,0, DATE '2000-1-1');
INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('i2','include_included_false','2021_1_1',0,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');

-- Acte de gestion non intégré marqué à null
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_included_null','include_included_null','include_included_null',2021,0,0, DATE '2000-1-1');
INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('i3','include_included_null','2021_1_1',0,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');

-- Acte de gestion non intégré non marqué
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('not_marked0','4_0','4_0',2021,0,0, DATE '2000-1-1');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('not_marked1','4_1','4_1',2021,0,0, DATE '2000-1-1');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('not_marked2','4_2','4_2',3000,0,0, DATE '3000-1-1');

--		Exclusion
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('exclude_included_false','exclude_included_false','exclude_included_false',2021,0,0, DATE '2000-1-1');
INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('e4','exclude_included_false','2021_1_1',0,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');

INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('exclude_included_null','exclude_included_null','exclude_included_null',2021,0,0, DATE '2000-1-1');
INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('e5','exclude_included_null','2021_1_1',0,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');

INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('exclude_included_true','exclude_included_true','exclude_included_true',2021,0,0, DATE '2000-1-1');
INSERT INTO TA_ACTE_GESTION_V_COLLECTIF(IDENTIFIANT,ACTE_GESTION,VERSION_COLLECTIF,INCLUS,AUDIT_IDENTIFIANT,AUDIT_ACTEUR,AUDIT_ACTION,AUDIT_DATE,AUDIT_FONCTIONNALITE) VALUES ('e6','exclude_included_true','2021_1_1',1,'1','christian','MODIFICATION', DATE '2000-1-1','AJUSTEMENT');

--		Inclusion complète
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_comprehensively_2021_3_1_01','include_comprehensively_2021_3_1_01','include_comprehensively_2021_3_1_01',2021,0,0, DATE '2021-9-1');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_comprehensively_2021_3_1_02','include_comprehensively_2021_3_1_02','include_comprehensively_2021_3_1_02',2021,0,0, DATE '2021-9-2');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_comprehensively_2021_3_1_03','include_comprehensively_2021_3_1_03','include_comprehensively_2021_3_1_03',2021,0,0, DATE '2021-9-3');

--		Exclusion complète

-- Inclusion by legislative act version identifier

INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_by_lav_2021_1_2_01','include_by_lav_2021_1_2_01','include_by_lav_2021_1_2_01',2021,0,0, DATE '2021-1-1');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_by_lav_2021_1_2_02','include_by_lav_2021_1_2_02','include_by_lav_2021_1_2_02',2021,0,0, DATE '2021-1-2');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_by_lav_2021_1_2_03','include_by_lav_2021_1_2_03','include_by_lav_2021_1_2_03',2021,0,0, DATE '2021-2-3');

INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_by_lav_2021_2_1_01','include_by_lav_2021_2_1_01','include_by_lav_2021_2_1_01',2021,0,0, DATE '2021-6-1');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_by_lav_2021_2_1_02','include_by_lav_2021_2_1_02','include_by_lav_2021_2_1_02',2021,0,0, DATE '2021-6-2');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_by_lav_2021_2_1_03','include_by_lav_2021_2_1_03','include_by_lav_2021_2_1_03',2021,0,0, DATE '2021-7-1');
INSERT INTO VMA_ACTE_GESTION(IDENTIFIANT,CODE,LIBELLE,EXERCICE,MONTANT_AE,MONTANT_CP,DATE_) VALUES ('include_by_lav_2021_2_1_04','include_by_lav_2021_2_1_04','include_by_lav_2021_2_1_04',2021,0,0, DATE '2021-7-2');